# ë‰´ìŠ¤ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ë¬¸ì„œ (SCRUM-12)

## ğŸ“‹ ê°œìš”

ê¸°ì—… ê´€ë ¨ ë‰´ìŠ¤ë¥¼ ê²€ìƒ‰í•˜ê³  í•´ì‹œíƒœê·¸ ê¸°ë°˜ìœ¼ë¡œ í•„í„°ë§í•  ìˆ˜ ìˆëŠ” ë‰´ìŠ¤ ê²€ìƒ‰ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
Naver ê²€ìƒ‰ APIë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë°ì´í„°ë¥¼ ì œê³µí•˜ë©°, ì¹´ë“œí˜• UIë¡œ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- âœ… ê¸°ì—…ëª… ê²€ìƒ‰ (ê¸°ë³¸ ê²€ìƒ‰)
- âœ… í•´ì‹œíƒœê·¸ ê¸°ë°˜ ê²€ìƒ‰ (#ê¸°ì‚¬, #ì‹¤ì , #íˆ¬ì, #ì‹ ì œí’ˆ, #ì¸ì‚¬)
- âœ… ì •ë ¬ ê¸°ëŠ¥ (ìµœì‹ ìˆœ/ê´€ë ¨ë„ìˆœ)
- âœ… í˜ì´ì§€ë„¤ì´ì…˜ (ë”ë³´ê¸° ë²„íŠ¼)
- âœ… ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë°ì´í„° (Naver API)
- âœ… ë°˜ì‘í˜• ì¹´ë“œí˜• UI

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **React 19.2.0** - UI ì»´í¬ë„ŒíŠ¸ í”„ë ˆì„ì›Œí¬
- **React Router DOM v7** - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
- **Axios 1.13.2** - HTTP í´ë¼ì´ì–¸íŠ¸
- **Vite 7.2.2** - ë¹Œë“œ ë„êµ¬ ë° ê°œë°œ ì„œë²„
- **CSS3** - ìŠ¤íƒ€ì¼ë§

### ë°±ì—”ë“œ
- **Spring Boot 3.2.0** - ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬
- **Java 17** - í”„ë¡œê·¸ë˜ë° ì–¸ì–´
- **RestTemplate** - HTTP í´ë¼ì´ì–¸íŠ¸ (Naver API í˜¸ì¶œ)
- **Lombok** - ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ê°ì†Œ
- **Swagger/OpenAPI 3.0** - API ë¬¸ì„œí™”

### ì™¸ë¶€ API
- **Naver ê²€ìƒ‰ API** - ë‰´ìŠ¤ ê²€ìƒ‰ ë°ì´í„° ì œê³µ
  - ì—”ë“œí¬ì¸íŠ¸: \`https://openapi.naver.com/v1/search/news.json\`
  - í•˜ë£¨ 25,000ê±´ ì œí•œ
  - ìµœëŒ€ 1,000ê°œ ê²°ê³¼ ì¡°íšŒ ê°€ëŠ¥

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚   (axios)        â”‚              â”‚  (RestTemplate) â”‚              â”‚
â”‚  Frontend   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚   Backend    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚  Naver API   â”‚
â”‚  (React)    â”‚                  â”‚ (Spring Boot)â”‚                 â”‚              â”‚
â”‚             â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚              â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      JSON        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      JSON       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                 â”‚
      â”‚                                 â”‚
      â–¼                                 â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ NewsSearchâ”‚                    â”‚NewsControllerâ”‚
 â”‚ Componentâ”‚                    â”‚              â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                 â”‚
      â–¼                                 â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ NewsList  â”‚                    â”‚NewsServiceâ”‚
 â”‚ Componentâ”‚                    â”‚            â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

---

## ğŸ“š ì½”ë“œ ì¶”ì  ê°€ì´ë“œ

### í”„ë¡ íŠ¸ì—”ë“œ ì£¼ìš” íŒŒì¼

#### 1. NewsSearchPage.jsx (`frontend/src/pages/NewsSearchPage.jsx`)
**ì—­í• **: ë‰´ìŠ¤ ê²€ìƒ‰ í˜ì´ì§€ ë©”ì¸ ì»¨í…Œì´ë„ˆ

**ì£¼ìš” í•¨ìˆ˜:**
- `handleSearchResults()` - line 23: ê²€ìƒ‰ ê²°ê³¼ ì²˜ë¦¬
- `handleLoadMore()` - line 133: ë”ë³´ê¸° ë²„íŠ¼ í•¸ë“¤ëŸ¬
- `formatDate()` - line 87: ë‚ ì§œ í¬ë§·íŒ…
- `stripHtmlTags()` - line 110: HTML íƒœê·¸ ì œê±°
- `renderNavigation()` - line 58: ë„¤ë¹„ê²Œì´ì…˜ ë°” ë Œë”ë§ (ê´€ì‹¬ê¸°ì—… ë²„íŠ¼ í¬í•¨)

#### 2. NewsSearch.jsx (`frontend/src/components/NewsSearch.jsx`)
**ì—­í• **: ê²€ìƒ‰ì°½, í•´ì‹œíƒœê·¸ ë²„íŠ¼, ì •ë ¬ ë“œë¡­ë‹¤ìš´

**ì£¼ìš” í•¨ìˆ˜:**
- `performSearch()` - line 32: ê²€ìƒ‰ ì‹¤í–‰
- `handleHashtagClick()` - line 113: í•´ì‹œíƒœê·¸ í´ë¦­ ì²˜ë¦¬
- `handleSortChange()` - line 133: ì •ë ¬ ì˜µì…˜ ë³€ê²½

**ì¤‘ìš” ì½”ë“œ (line 50-52):**
\`\`\`javascript
// ë°±ì—”ë“œì—ì„œ '#' ê¸°í˜¸ë¥¼ ì¶”ê°€í•˜ë¯€ë¡œ ê°’ë§Œ ì „ì†¡
const hashtag = currentHashtag ? currentHashtag : '';
\`\`\`

#### 3. newsService.js (`frontend/src/services/newsService.js`)
**ì—­í• **: ë°±ì—”ë“œ API í˜¸ì¶œ

**ì£¼ìš” í•¨ìˆ˜:**
- `searchNews()` - line 26: ë‰´ìŠ¤ ê²€ìƒ‰ API í˜¸ì¶œ
- `getMockNewsList()` - line 71: ëª©ì—… ë°ì´í„° ìƒì„± (ë°±ì—”ë“œ ë¯¸êµ¬í˜„ ì‹œ)

---

### ë°±ì—”ë“œ ì£¼ìš” íŒŒì¼

#### 1. NewsController.java (`backend/.../controller/NewsController.java`)
**ì—­í• **: REST API ì—”ë“œí¬ì¸íŠ¸

**API ì—”ë“œí¬ì¸íŠ¸:**
\`\`\`
GET /api/news/search?company={ê¸°ì—…ëª…}&hashtag={í•´ì‹œíƒœê·¸}&page=1&size=10&sort=date
\`\`\`

**ì£¼ìš” ì½”ë“œ:**
- **íŒŒë¼ë¯¸í„° ê²€ì¦** - line 60-82
- **í•´ì‹œíƒœê·¸ ì²˜ë¦¬** - line 84-94
  \`\`\`java
  // '#' ê¸°í˜¸ê°€ ì—†ìœ¼ë©´ ìë™ ì¶”ê°€
  if (!hashtagValue.startsWith("#")) {
      hashtagValue = "#" + hashtagValue;
  }
  query = company + " " + hashtagValue;
  \`\`\`
- **í˜ì´ì§€ë„¤ì´ì…˜ ë³€í™˜** - line 95-96
  \`\`\`java
  Integer start = (page - 1) * size + 1;
  \`\`\`

#### 2. NewsService.java (`backend/.../service/NewsService.java`)
**ì—­í• **: Naver API í˜¸ì¶œ ë° ì‘ë‹µ ë³€í™˜

**ì£¼ìš” ì½”ë“œ:**
- **Naver API í˜¸ì¶œ** - line 61-82
- **RestTemplate ì„¤ì •** - line 69-76
  \`\`\`java
  headers.set("X-Naver-Client-Id", naverClientId);
  headers.set("X-Naver-Client-Secret", naverClientSecret);
  \`\`\`

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ ë™ì‘ í”Œë¡œìš°

### 1. ê¸°ë³¸ ê²€ìƒ‰ í”Œë¡œìš°

\`\`\`
ì‚¬ìš©ì ì…ë ¥ "ì‚¼ì„±ì „ì"
  â†“
NewsSearch.performSearch()           (line 32)
  â†“
newsService.searchNews()             (newsService.js:26)
  â†“
GET /api/news/search?company=ì‚¼ì„±ì „ì
  â†“
NewsController.searchNews()          (NewsController.java:44)
  â†“
NewsService.searchNews()             (NewsService.java:45)
  â†“
Naver API í˜¸ì¶œ: query=ì‚¼ì„±ì „ì
  â†“
ì‘ë‹µ ë°˜í™˜ â†’ NewsList ë Œë”ë§
\`\`\`

### 2. í•´ì‹œíƒœê·¸ ê²€ìƒ‰ í”Œë¡œìš°

\`\`\`
ì‚¬ìš©ìê°€ "#ì‹¤ì " í´ë¦­
  â†“
NewsSearch.handleHashtagClick()      (line 113)
  â†“
selectedHashtag = "ì‹¤ì "
  â†“
performSearch("ì‹¤ì ")                 (line 125)
  â†“
GET /api/news/search?company=ì‚¼ì„±ì „ì&hashtag=ì‹¤ì 
  â†“
NewsController: hashtagì— '#' ì¶”ê°€   (line 90-92)
  â†“
query = "ì‚¼ì„±ì „ì #ì‹¤ì "
  â†“
Naver API í˜¸ì¶œ
  â†“
ê²°ê³¼ ë°˜í™˜
\`\`\`

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ë°±ì—”ë“œ API í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ 1: ê¸°ë³¸ ê²€ìƒ‰**
\`\`\`bash
curl "http://localhost:8080/api/news/search?company=ì‚¼ì„±ì „ì&page=1&size=5"
\`\`\`
- âœ… ì‘ë‹µ 200 OK
- âœ… total: 4,092,344ê±´
- âœ… items ë°°ì—´ì— 5ê°œ ë‰´ìŠ¤ í¬í•¨

**í…ŒìŠ¤íŠ¸ 2: í•´ì‹œíƒœê·¸ ê²€ìƒ‰**
\`\`\`bash
curl "http://localhost:8080/api/news/search?company=ì‚¼ì„±ì „ì&hashtag=ì‹¤ì "
\`\`\`
- âœ… ë°±ì—”ë“œ ë¡œê·¸: `query: ì‚¼ì„±ì „ì #ì‹¤ì `
- âœ… Naver API í˜¸ì¶œ ì„±ê³µ
- âœ… ì‘ë‹µ ì •ìƒ ë°˜í™˜

### Playwright E2E í…ŒìŠ¤íŠ¸

**ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤:**
1. âœ… http://localhost:5173/news í˜ì´ì§€ ë¡œë“œ
2. âœ… ë„¤ë¹„ê²Œì´ì…˜ ë°” í™•ì¸ (ê´€ì‹¬ê¸°ì—… ë²„íŠ¼ í¬í•¨)
3. âœ… "ì‚¼ì„±ì „ì" ì…ë ¥
4. âœ… ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­
5. âœ… ê²€ìƒ‰ ê²°ê³¼ 10ê±´ í‘œì‹œ
6. âœ… "#ì‹¤ì " í•´ì‹œíƒœê·¸ í´ë¦­
7. âœ… ê²€ìƒ‰ ì¬ì‹¤í–‰ ë° ê²°ê³¼ í‘œì‹œ
8. âœ… ë‰´ìŠ¤ ì¹´ë“œ ì •ìƒ ë Œë”ë§ (ì œëª©, ì„¤ëª…, ë‚ ì§œ)

---

## âš ï¸ ì•Œë ¤ì§„ ì´ìŠˆ ë° í•´ê²° ë°©ë²•

### ì´ìŠˆ 1: í•´ì‹œíƒœê·¸ ê²€ìƒ‰ ì‹œ ê±´ìˆ˜ ë³€í™” ì—†ìŒ

**ì¦ìƒ:**
- "#ì‹¤ì " í´ë¦­ ì‹œ ê²€ìƒ‰ ê±´ìˆ˜ê°€ ë³€í•˜ì§€ ì•ŠìŒ
- "ì‚¼ì„±ì „ì": 4,092,344ê±´
- "ì‚¼ì„±ì „ì #ì‹¤ì ": 4,092,344ê±´ (ë™ì¼)

**ì›ì¸:**
- Naver ê²€ìƒ‰ APIì˜ íŠ¹ì„±ìƒ í•´ì‹œíƒœê·¸ê°€ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë‰´ìŠ¤ê°€ ì ìŒ
- APIê°€ í•´ì‹œíƒœê·¸ë¥¼ ì¼ë°˜ ê²€ìƒ‰ì–´ë¡œ ì²˜ë¦¬

**ê²€ì¦:**
- ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸: `query: ì‚¼ì„±ì „ì #ì‹¤ì ` ì •ìƒ ì „ì†¡ í™•ì¸
- ê¸°ëŠ¥ ìì²´ëŠ” ì •ìƒ ì‘ë™

**í•´ê²°:**
- Naver APIì˜ ì œì•½ì‚¬í•­ìœ¼ë¡œ ì¸ì •
- ë‹¤ë¥¸ í•´ì‹œíƒœê·¸ ì‹œë„ ê¶Œì¥

### ì´ìŠˆ 2: ê´€ì‹¬ê¸°ì—… ë²„íŠ¼ ëˆ„ë½ (ìˆ˜ì • ì™„ë£Œ)

**ì›ì¸:**
- `NewsSearchPage.jsx`ì˜ ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— ê´€ì‹¬ê¸°ì—… ë²„íŠ¼ ëˆ„ë½

**í•´ê²°:**
- line 78-80ì— ê´€ì‹¬ê¸°ì—… ë²„íŠ¼ ì¶”ê°€
\`\`\`javascript
<button className="toggle-btn" onClick={() => navigate('/', { state: { view: 'stocks' } })}>
  ê´€ì‹¬ê¸°ì—…
</button>
\`\`\`

---

## ğŸ“– í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

**\`.env\` íŒŒì¼ (í”„ë¡œì íŠ¸ ë£¨íŠ¸):**
\`\`\`env
# Naver API
NAVER_CLIENT_ID=your_client_id_here
NAVER_CLIENT_SECRET=your_client_secret_here

# Database
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=corp_analysis
SPRING_DATASOURCE_USERNAME=devuser
SPRING_DATASOURCE_PASSWORD=devpassword
\`\`\`

### Docker Compose ì‹¤í–‰

\`\`\`bash
# ì»¨í…Œì´ë„ˆ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker logs company-analyzer-backend --tail 50
docker logs company-analyzer-frontend --tail 50

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down
\`\`\`

### ê°œë°œ ì„œë²„ ì§ì ‘ ì‹¤í–‰

**ë°±ì—”ë“œ:**
\`\`\`bash
cd backend
./gradlew bootRun
# http://localhost:8080
\`\`\`

**í”„ë¡ íŠ¸ì—”ë“œ:**
\`\`\`bash
cd frontend
npm install
npm run dev
# http://localhost:5173
\`\`\`

---

## ğŸ“ í•™ìŠµ ë‚´ìš© ë° ê°œì„  ë°©í–¥

### êµ¬í˜„í•˜ë©´ì„œ ë°°ìš´ ì 

1. **URL ì¸ì½”ë”© ë¬¸ì œ í•´ê²°**
   - '#' ê¸°í˜¸ë¥¼ í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚´ë©´ %23ìœ¼ë¡œ ì¸ì½”ë”©ë¨
   - ë°±ì—”ë“œì—ì„œ '#' ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°

2. **React ìƒíƒœ ê´€ë¦¬**
   - ë¶€ëª¨-ìì‹ ì»´í¬ë„ŒíŠ¸ ê°„ ì½œë°± í™œìš©
   - ì¦‰ì‹œ ê²€ìƒ‰ ì‹¤í–‰ (í•´ì‹œíƒœê·¸ í´ë¦­ ì‹œ)

3. **Spring Boot + Naver API**
   - RestTemplate ì‚¬ìš©ë²•
   - HTTP í—¤ë” ì„¤ì • (Client-Id, Secret)

4. **í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§**
   - í”„ë¡ íŠ¸ page â†’ ë°±ì—”ë“œ start ë³€í™˜
   - ê¸°ì¡´ ê²°ê³¼ì— ìƒˆ ê²°ê³¼ ì¶”ê°€

### ê°œì„  ê°€ëŠ¥í•œ ë¶€ë¶„

1. **ìºì‹± ì¶”ê°€** - Redisë¥¼ í™œìš©í•œ ê²€ìƒ‰ ê²°ê³¼ ìºì‹±
2. **ë¬´í•œ ìŠ¤í¬ë¡¤** - ë”ë³´ê¸° ëŒ€ì‹  ìë™ ë¡œë”©
3. **ê²€ìƒ‰ ê¸°ë¡** - ìµœê·¼ ê²€ìƒ‰ì–´ ì €ì¥ ë° ì œì•ˆ
4. **ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”** - Rate Limit ì´ˆê³¼ ì‹œ ì•ˆë‚´
5. **í…ŒìŠ¤íŠ¸ ì½”ë“œ** - Jest, JUnit, Playwright ìë™í™”

---

## ğŸ“ ì‘ì„± ì •ë³´

- **Jira í‹°ì¼“**: SCRUM-12
- **ì‘ì„±ì¼**: 2025-11-29
- **Git ë¸Œëœì¹˜**: \`feature/SCRUM-12-news-search\`
- **ì‘ì„±ì**: Claude Code (AI Assistant)

